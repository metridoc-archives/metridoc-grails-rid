<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>4 Web User Interface (Front-end) 0.1-SNAPSHOT</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/technology.html"><strong>2</strong><span>Technology</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/databaseDesign.html"><strong>3</strong><span>Database Design (Bank-end)</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/webUI.html"><strong>4</strong><span>Web User Interface (Front-end)</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/unitTests.html"><strong>5</strong><span>Unit Tests</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/conclusion.html"><strong>6</strong><span>Insight and Conclusion</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/appendix.html"><strong>7</strong><span>Appendix -- Relationship among domain classes</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p>Brief summary/description of the plugin.
</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../guide/databaseDesign.html">&lt;&lt; <strong>3</strong><span>Database Design (Bank-end)</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../guide/unitTests.html"><strong>5</strong><span>Unit Tests</span> >></a></div>
                


                <div class="project">
                    <h1>4 Web User Interface (Front-end) - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Xiaofan Tong; Thomas Barker</p>

                    <p><strong>Version:</strong> 0.1-SNAPSHOT</p>

                    
                </div>

                
                <div id="table-of-content">
                    <h2>Table of Contents</h2>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#Grails"><strong>4.1</strong><span>Grails</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#Bootstrap"><strong>4.2</strong><span>Bootstrap Front-end Framework</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#CSSMediaQuery"><strong>4.3</strong><span>CSS Media Query</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#Ajax"><strong>4.4</strong><span>AJAX</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#Excel"><strong>4.5</strong><span>Excel Importing/Exporting Function</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#Form"><strong>4.6</strong><span>Duplicated Form Submissions Handling</span></a>
                    </div>
                    
                </div>
                

                

<h1 id="webUI">4 Web User Interface (Front-end)</h1>
The web user interface is implemented using Grails.
We uses <a href="http://jquery.com/" target="blank">jQuery</a> and <a href="http://twitter.github.io/bootstrap/" target="blank">Twitter Bootstrap</a>
(a kind of CSS style template implemented by Twitter) to improve the visual effect.



<h2 id="Grails">4.1 Grails</h2>
In this project, we use Grails as the MVC development framework.
Grails is an Open Source, full stack, web application framework for the JVM.
It takes advantage of the Groovy programming language and convention over configuration to provide
a productive and stream-lined development experience.<p class="paragraph"/>Groovy is an object-oriented programming language for the Java platform.
It is a dynamic language with features similar to those of Python, Ruby, and Perl.
It can be used as a scripting language for the Java Platform, is dynamically compiled to
Java Virtual Machine (JVM) bytecode, and interoperates with other Java code and libraries.
Groovy uses a Java-like bracket syntax. Most Java code is also syntactically valid Groovy. Besides, it also supports functional programming, such as closure.<p class="paragraph"/>Grails gives a very clear structure of the web application.<p class="paragraph"/><img border="0" class="center" src="../img/../../../src/docs/img/GrailsStructure.png"></img><p class="paragraph"/>From the above picture, you can see there are mainly there parts in a Grails application:
controllers, domain, and views. Remember that Grails is a MVC framework, so those three parts correspond to
Model, View and Controller, respectively.<p class="paragraph"/>Compared to the ER model above, you may find the relationship between domain classes
(the Model part of MVC) and database tables are intuitively clear.
So are the relationship among domain, controller, and view. For example, the domain class RidCourseSponsor
is stored in the table named “rid_course_sponsor”, and all web pages regard to it are in the folder named
“ridCourseSponsor”. The controller is named as “RidCourseSponsorController”.<p class="paragraph"/>Please refer to <a href="../guide/single.html#appendix" class="guide">this page</a> of this report for a relationship model among all these domain classes.



<h2 id="Bootstrap">4.2 Bootstrap Front-end Framework</h2>
In this project, I use <a href="http://twitter.github.io/bootstrap/" target="blank">Twitter Bootstrap</a> for the front-end framework
for faster and easier web development.
It is a free collection of tools for creating websites and web applications, and it has relatively incomplete
support for HTML5 and CSS 3, but it is compatible with all major browsers. Basic information of compatibility
of websites or applications is available for all devices and browsers. It contains HTML and CSS-based design
templates for typography, forms, buttons, charts, navigation and other interface components, as well as
optional JavaScript extensions.<p class="paragraph"/>The most important and powerful thing I use in the project is Modal, a kind of streamlined, but flexible,
sliding-in and fading-out dialog prompts with the minimum required functionality and smart defaults.
If a remote URL is provided, content will be loaded via jQuery's load method and injected into the modal body.<p class="paragraph"/><img border="0" class="center" src="../img/../../../src/docs/img/Modal.png"></img>



<h2 id="CSSMediaQuery">4.3 CSS Media Query</h2>
HTML4 and CSS2 currently support media-dependent style sheets tailored for different media types.
For example, a document may use sans-serif fonts when displayed on a screen and serif fonts when printed.
‘screen’ and ‘print’ are two media types that have been defined. Media queries extend the functionality of
media types by allowing more precise labeling of style sheets.<p class="paragraph"/>A media query consists of a media type and zero or more expressions that check for the conditions of
particular media features. Among the media features that can be used in media queries are ‘width’, ‘height’,
and ‘color’. By using media queries, presentations can be tailored to a specific range of output devices
without changing the content itself.<p class="paragraph"/>In this project, in order to let user views web-pages friendlier in their mobile devices, I use media
query to test the ‘width’ of a web page so as to dynamically change its format accordingly.<p class="paragraph"/><img border="0" class="center" src="../img/../../../src/docs/img/CSSMediaQuery.png"></img><p class="paragraph"/>As you can see from the illustration, when you view a web page in your mobile device, the ‘width’ of the page
will be smaller. The media query observes this change and automatically formats the table from horizontal
(left one) to vertical (right one).



<h2 id="Ajax">4.4 AJAX</h2>
Ajax is used in this project to create asynchronous web applications.<p class="paragraph"/><img border="0" class="center" src="../img/../../../src/docs/img/Ajax.png"></img><p class="paragraph"/>As user chooses different ‘Library Unit’ when creating a RidTransacton instance, the items in
‘Mode of Consultation’, ‘Service Provided’ and ‘User Goal will change’. With Ajax, web applications
can send data of ‘Library Unit’ to, and retrieve data from the server asynchronously (in the background)
without interfering with the display and behavior of the existing page.
Here, data is retrieved using JSON, and jQuery is used to change the items in those three drop-down list boxes.



<h2 id="Excel">4.5 Excel Importing/Exporting Function</h2>
The importing here means that user can upload an excel file containing the information to create
instances of RidTransaction. When user uploads a spreadsheet (excel file), the server checks it,
parses it and then saves it in the database if all the information and format are validated, otherwise
throws errors to user. The exporting stands for user can download a spreadsheet contain particular
instances to the local.<p class="paragraph"/>I use HSSF/XSSF in <a href="http://poi.apache.org/spreadsheet/index.html" target="blank">Apache POI</a> to deal with excel
<a href="http://www.andykhan.com/jexcelapi/tutorial.html" target="blank">importing and exporting</a>.
Apache POI is a Java API for Microsoft Documents. HSSF is the POI Project's pure Java implementation of the
Excel '97(-2007) file format. XSSF is the POI Project's pure Java implementation of the Excel 2007 OOXML (.xlsx)
file format. HSSF and XSSF provide ways to read spreadsheets create, modify, read and write XLS spreadsheets.
They provide: low level structures for those with special needs, an event model API for efficient read-only access,
and a full user model API for creating, reading and modifying XLS files.



<h2 id="Form">4.6 Duplicated Form Submissions Handling</h2>
Grails has built-in support for handling
<a href="http://grails.org/doc/2.2.1/ref/Controllers/withForm.html" target="blank">duplicated form submissions</a>
using the "Synchronizer Token Pattern".
After defining a token on the form tag, each submission will be combined with a unique token before being processed.
Grails checks the token of each submission. Duplicated tokens mean duplicated submissions.<p class="paragraph"/>This mechanism makes use of the session and hence requires session affinity or clustered sessions if used in a cluster.<p class="paragraph"/><p class="paragraph"/>



                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../guide/databaseDesign.html">&lt;&lt; <strong>3</strong><span>Database Design (Bank-end)</span></a></div>
                
                    <div class="toc-item next-right"><a href="../guide/unitTests.html"><strong>5</strong><span>Unit Tests</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">commandline</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/commandline/configure-for-job-only.html">configure-for-job-only</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/commandline/flush-cache.html">flush-cache</a>
                            </div>
                            
                            </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
